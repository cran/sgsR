<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>sgsR</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">sgsR</h1>



<div id="str" class="section level2 unnumbered">
<h2 class="unnumbered">Algorithm structure</h2>
<p><code>sgsR</code> is primarily scripted using the
<code>tidyverse</code>, <code>terra</code> package to handle raster
processing, and <code>sf</code> package for vector manipulation.
Currently, there are 4 primary function verbs that this package
uses:</p>
<ul>
<li><p><code>strat_*</code> - Stratify verb directs the functions to
apply stratification algorithms to the input metrics raster
<code>mraster</code> and produce stratified raster <code>sraster</code>
as the output.</p></li>
<li><p><code>sample_*</code> - Sample verb directs the functions to
extract samples from <code>srasters</code>, which is produced from
<code>strat_*</code> functions. Few algorithms (such as
<code>sample_srs()</code>, <code>sample_balanced()</code>,
<code>sample_systematic()</code>) are capable of using
<code>mrasters</code> as the input because those algorithms do not
depend on stratified inputs for sampling.</p></li>
<li><p><code>calculate_*</code> - Calculate verb directs the functions
to perform calculations; values derived from these calculations are used
in subsequent processing. Predefined sample analysis algorithms (such as
<code>calculate_representation()</code>, <code>calculate_coobs()</code>)
are included.</p></li>
<li><p><code>extract_*</code> - Derive raster data for each co-located
sample. Includes <code>extract_metrics()</code> for deriving
<code>mraster</code> data, and <code>extract_strata()</code> for
deriving stratum from <code>srasters</code>. Both functions are used
internally within <code>sgsR</code>.</p></li>
</ul>
</div>
<div id="example-data" class="section level2 unnumbered">
<h2 class="unnumbered">Example data</h2>
<p>We demonstrate and provide examples for functions using
<code>sgsR</code> internal data. Use the following code to load data for
<code>mraster</code> and road <code>access</code>. Follow along on your
own device to explore different outputs and better comprehend the
package functions.</p>
<div id="mrast" class="section level3 unnumbered">
<h3 class="unnumbered">Metrics rasters - <code>mraster</code></h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sgsR)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(terra)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co">#--- Load mraster from internal data ---#</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>r <span class="ot">&lt;-</span> <span class="fu">system.file</span>(<span class="st">&quot;extdata&quot;</span>, <span class="st">&quot;mraster.tif&quot;</span>, <span class="at">package =</span> <span class="st">&quot;sgsR&quot;</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co">#--- load mraster using the terra package ---#</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>mraster <span class="ot">&lt;-</span> terra<span class="sc">::</span><span class="fu">rast</span>(r)</span></code></pre></div>
</div>
<div id="vect" class="section level3 unnumbered">
<h3 class="unnumbered"><code>access</code> data</h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">system.file</span>(<span class="st">&quot;extdata&quot;</span>, <span class="st">&quot;access.shp&quot;</span>, <span class="at">package =</span> <span class="st">&quot;sgsR&quot;</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co">#--- load the access vector using the sf package ---#</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>access <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_read</span>(a)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Reading layer `access&#39; from data source </span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   `C:\Users\goodb\AppData\Local\Temp\RtmpshiRyG\Rinst218c452d5988\sgsR\extdata\access.shp&#39; </span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   using driver `ESRI Shapefile&#39;</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Simple feature collection with 167 features and 2 fields</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Geometry type: MULTILINESTRING</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Dimension:     XY</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Bounding box:  xmin: 431100 ymin: 5337700 xmax: 438560 ymax: 5343240</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Projected CRS: UTM_Zone_17_Northern_Hemisphere</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>terra<span class="sc">::</span><span class="fu">plot</span>(mraster<span class="sc">$</span>zq90)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>terra<span class="sc">::</span><span class="fu">plot</span>(access, <span class="at">add =</span> <span class="cn">TRUE</span>, <span class="at">col =</span> <span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>From the plot output we see the first band (<code>zq90</code>) of the
<code>mraster</code> with the <code>access</code> vector overlaid.</p>
</div>
</div>
<div id="srast" class="section level2 unnumbered">
<h2 class="unnumbered">Stratified rasters - <code>sraster</code></h2>
<p>In this tutorial, I am going to demonstrate how to produce basic
<code>sraster</code> and <code>existing</code> sample data, which will
be used in subsequent examples.</p>
<p>To produce <code>sraster</code>, we use
<code>strat_quantiles()</code>. This function used the input
<code>mraster$zq90</code> distribution and divides it into 4 equally
sized quantiles.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">#--- apply kmeans algorithm to metrics raster ---#</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>sraster <span class="ot">&lt;-</span> <span class="fu">strat_quantiles</span>(<span class="at">mraster =</span> mraster<span class="sc">$</span>zq90, <span class="co"># use mraster as input for sampling</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>                           <span class="at">nStrata =</span> <span class="dv">4</span>, <span class="co"># algorithm will produce 4 strata</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>                           <span class="at">plot =</span> <span class="cn">TRUE</span>) <span class="co"># algorithm will plot output</span></span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>After <code>sraster</code> is produced, use
<code>sample_strat()</code> to perform stratified sampling within our
<code>sraster</code> to generate a representative sample output based on
strata.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">#--- apply stratified sampling ---#</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>existing <span class="ot">&lt;-</span> <span class="fu">sample_strat</span>(<span class="at">sraster =</span> sraster, <span class="co"># use mraster as input for sampling</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>                         <span class="at">nSamp =</span> <span class="dv">200</span>, <span class="co"># request 200 samples be taken</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>                         <span class="at">mindist =</span> <span class="dv">100</span>, <span class="co"># define that samples must be 100 m apart</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>                         <span class="at">plot =</span> <span class="cn">TRUE</span>) <span class="co"># algorithm will plot output</span></span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="pipe" class="section level2 unnumbered">
<h2 class="unnumbered"><code>%&gt;%</code></h2>
<p>The sgsR package leverages the <code>%&gt;%</code> operator from the
<code>magrittr</code> package. This allows us to “pipe” operations
together to save in the amount of code needed to achieve an outcome. A
simple example is demonstrated below.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">#--- non piped ---#</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>sraster <span class="ot">&lt;-</span> <span class="fu">strat_quantiles</span>(<span class="at">mraster =</span> mraster<span class="sc">$</span>zq90, <span class="co"># use mraster as input for sampling</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>                           <span class="at">nStrata =</span> <span class="dv">4</span>) <span class="co"># algorithm will produce 4 strata</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>                           </span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>existing <span class="ot">&lt;-</span> <span class="fu">sample_strat</span>(<span class="at">sraster =</span> sraster, <span class="co"># use mraster as input for sampling</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>                         <span class="at">nSamp =</span> <span class="dv">200</span>, <span class="co"># request 200 samples be taken</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>                         <span class="at">mindist =</span> <span class="dv">100</span>) <span class="co"># define that samples must be 100 m apart</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>                       </span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="fu">extract_metrics</span>(<span class="at">mraster =</span> mraster,</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>                <span class="at">existing =</span> existing)</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="co">#--- piped ---#</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="fu">strat_quantiles</span>(<span class="at">mraster =</span> mraster<span class="sc">$</span>zq90, <span class="at">nStrata =</span> <span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sample_strat</span>(., <span class="at">nSamp =</span> <span class="dv">200</span>, <span class="at">mindist =</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">extract_metrics</span>(<span class="at">mraster =</span> mraster, <span class="at">existing =</span> .)</span></code></pre></div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
